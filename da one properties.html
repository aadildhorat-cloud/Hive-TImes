<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dubai One - Premium Real Estate in Dubai</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700;800&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">
  <style>
    /* ===== MODERN RESET & BASE STYLES ===== */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    :root {
      --primary-dark: #1a1a2e;
      --secondary-dark: #16213e;
      --accent-green: #25d366;
      --accent-green-light: #20c960;
      --text-light: #e0e0e0;
      --text-gray: #a0a8b8;
      --shadow-light: rgba(0, 0, 0, 0.1);
      --shadow-medium: rgba(0, 0, 0, 0.25);
      --shadow-heavy: rgba(0, 0, 0, 0.4);
    }
    body {
      font-family: 'Montserrat', sans-serif;
      line-height: 1.6;
      color: #333;
      background-color: #f8f9fa;
      overflow-x: hidden;
    }
    html {
      scroll-behavior: smooth;
    }

    /* ===== HEADER STYLES ===== */
    .header {
      position: fixed;
      top: 0;
      width: 100%;
      background: linear-gradient(135deg, rgba(26, 26, 46, 0.5), rgba(22, 33, 62, 0.5), rgba(15, 52, 96, 0.5));
      color: white;
      padding: 1rem 2rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      z-index: 1000;
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border-bottom: 1px solid transparent;
    }
    .header.scrolled {
      background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark), #0f3460);
      box-shadow: 0 4px 20px rgba(0,0,0,0.3);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }
    .header-container {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 1400px;
      margin: 0 auto;
      width: 100%;
    }
    .header-logo {
      height: 60px;
      width: auto;
      object-fit: contain;
      transition: transform 0.3s ease;
    }
    .header-logo:hover {
      transform: scale(1.05);
    }
    .nav-menu {
      display: flex;
      list-style: none;
      gap: 30px;
    }
    .nav-menu a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      font-size: 16px;
      padding: 10px 15px;
      border-radius: 5px;
      transition: all 0.3s ease;
    }
    .nav-menu a:hover {
      background: rgba(255, 255, 255, 0.2);
      transform: translateY(-2px);
    }
    .cta-button {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green-light));
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 10px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
    }
    .cta-button:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.5);
    }
    .hamburger-menu {
      display: none;
      flex-direction: column;
      cursor: pointer;
      width: 35px;
      height: 30px;
      justify-content: space-between;
      z-index: 1001;
    }
    .hamburger-menu span {
      width: 100%;
      height: 3px;
      background-color: white;
      border-radius: 2px;
      transition: all 0.3s ease;
    }
    .hamburger-menu.active span:nth-child(1) {
      transform: rotate(45deg) translate(5px, 5px);
    }
    .hamburger-menu.active span:nth-child(2) {
      opacity: 0;
    }
    .hamburger-menu.active span:nth-child(3) {
      transform: rotate(-45deg) translate(5px, -5px);
    }
    .cart-icon {
      position: relative;
      cursor: pointer;
      color: white;
      font-size: 1.5rem;
    }
    .cart-count {
      position: absolute;
      top: -8px;
      right: -8px;
      background: #e74c3c;
      color: white;
      font-size: 12px;
      font-weight: bold;
      padding: 3px 7px;
      border-radius: 50%;
      min-width: 20px;
      text-align: center;
    }

    /* ===== HERO SLIDER ===== */
    .hero-slider {
      height: 80vh;
      position: relative;
      overflow: hidden;
      margin-top: 70px;
    }
    .slide {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-size: cover;
      background-position: center;
      opacity: 0;
      transition: opacity 1.5s ease-in-out;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .slide.active {
      opacity: 1;
    }
    .slide::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, rgba(26,26,46,0.8), rgba(15,52,96,0.6));
    }
    .slide-content {
      position: relative;
      text-align: center;
      color: white;
      max-width: 900px;
      padding: 3rem;
      z-index: 2;
    }
    .slide-content h2 {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      margin-bottom: 1.5rem;
      text-shadow: 2px 2px 8px rgba(0,0,0,0.8);
      line-height: 1.2;
    }
    .slide-content p {
      font-size: 1.4rem;
      margin-bottom: 2rem;
      opacity: 0.9;
    }
    .slide-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    /* ===== AI SEARCH CONTAINER ===== */
    .filter-bar {
      padding: 3rem 2rem;
      background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark));
    }
    .ai-search-container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.3);
      display: flex;
      flex-direction: column;
      gap: 20px;
    }
    .ai-message {
      display: flex;
      align-items: flex-start;
      gap: 24px;
    }
    .ai-avatar {
      width: 120px;
      height: 120px;
      flex-shrink: 0;
    }
    .ai-avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 50%;
      filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.2));
      aspect-ratio: 1 / 1;
      border: 3px solid #fff;
    }
    .ai-text {
      background: linear-gradient(135deg, #0f3460, var(--secondary-dark));
      color: white;
      padding: 25px;
      border-radius: 15px;
      font-size: 1.1rem;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      font-weight: 500;
      line-height: 1.5;
      border-left: 4px solid var(--accent-green);
      flex: 1;
    }
    .ai-text strong {
      color: #fff;
      font-weight: 700;
    }
    .ai-options {
      display: flex;
      flex-wrap: wrap;
      gap: 14px;
    }
    .ai-option-btn {
      flex: 1;
      min-width: 130px;
      padding: 16px 20px;
      border: 2px solid rgba(255, 255, 255, 0.2);
      border-radius: 16px;
      background: rgba(255, 255, 255, 0.1);
      color: white;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
      text-align: center;
      box-shadow: 0 3px 8px rgba(0, 0, 0, 0.15);
      position: relative;
      overflow: hidden;
    }
    .ai-option-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 18px rgba(37, 117, 211, 0.3);
      background: rgba(255, 255, 255, 0.15);
      border-color: rgba(255, 255, 255, 0.4);
    }
    .ai-option-btn.selected {
      background: linear-gradient(135deg, #1a3a7a 0%, #2575d3 100%);
      color: white;
      border-color: #2575d3;
      box-shadow: 0 5px 20px rgba(37, 117, 211, 0.4);
    }
    .ai-option-btn.selected::after {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(255, 255, 255, 0.2), transparent);
      transform: translateX(-100%);
      animation: shine 2s ease-in-out;
    }
    @keyframes shine {
      to { transform: translateX(100%); }
    }
    .ai-back-btn {
      background: rgba(37, 117, 211, 0.15);
      color: white;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-radius: 12px;
      padding: 10px 20px;
      font-weight: 600;
      cursor: pointer;
      display: none;
      align-self: flex-start;
      transition: all 0.3s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
    }
    .ai-back-btn:hover {
      background: linear-gradient(135deg, #1a3a7a, #2575d3);
      border-color: #2575d3;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(37, 117, 211, 0.3);
    }
    .ai-back-btn i {
      margin-right: 8px;
    }
    .text-search-bar input {
      width: 100%;
      padding: 16px 24px;
      border: 2px solid #eee;
      border-radius: 50px;
      font-size: 1.05rem;
      font-family: 'Montserrat', sans-serif;
      box-shadow: inset 0 2px 6px rgba(0,0,0,0.04);
      outline: none;
      transition: all 0.3s ease;
      background: rgba(255, 255, 255, 0.1);
      border: 2px solid rgba(255, 255, 255, 0.2);
      color: white;
    }
    .text-search-bar input::placeholder {
      color: rgba(255, 255, 255, 0.6);
    }
    .text-search-bar input:focus {
      border-color: #2575d3;
      box-shadow: 0 0 0 3px rgba(37, 117, 211, 0.2);
    }

    /* ===== PROPERTY GRID ===== */
    .properties-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 2.5rem;
      max-width: 1400px;
      margin: 0 auto;
      padding: 3rem 2rem;
      grid-auto-rows: 1fr;
    }
    .property-card {
      background: white;
      border-radius: 15px;
      overflow: hidden;
      box-shadow: 0 8px 25px rgba(0,0,0,0.1);
      transition: all 0.4s ease;
      cursor: pointer;
      position: relative;
      border: 1px solid rgba(0,0,0,0.05);
      min-height: 450px;
      display: flex;
      flex-direction: column;
      opacity: 0;
      transform: translateY(50px);
      animation: fadeInCard 0.6s ease forwards;
    }
    @keyframes fadeInCard {
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .property-card img {
      width: 100%;
      height: 250px;
      object-fit: cover;
      transition: transform 0.3s ease;
      flex-shrink: 0;
    }
    .property-card:hover img {
      transform: scale(1.05);
    }
    .property-info {
      padding: 2rem;
      flex-grow: 1;
      display: flex;
      flex-direction: column;
    }
    .property-card h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      margin-bottom: 1rem;
      color: var(--primary-dark);
      line-height: 1.3;
    }
    .property-card p {
      color: #6c757d;
      margin-bottom: 1.5rem;
      line-height: 1.6;
      font-size: 0.95rem;
      flex-grow: 1;
    }
    .price {
      font-family: 'Playfair Display', serif;
      font-size: 1.6rem;
      font-weight: 700;
      color: var(--accent-green);
      margin: 1rem 0;
      text-align: center;
    }
    .property-whatsapp {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green-light));
      color: white;
      padding: 0.9rem 1.5rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      font-weight: 700;
      font-size: 1rem;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.5rem;
      margin-top: auto;
      box-shadow: 0 3px 10px rgba(37, 211, 102, 0.2);
    }
    .property-whatsapp:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 211, 102, 0.4);
      background: linear-gradient(45deg, var(--accent-green-light), #1db954);
    }
    .property-whatsapp i {
      font-size: 1.1rem;
    }
    .property-badge {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: linear-gradient(45deg, #e74c3c, #c0392b);
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      z-index: 2;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }
    .badge-featured { background: linear-gradient(45deg, var(--accent-green), var(--accent-green-light)); }
    .badge-new { background: linear-gradient(45deg, #3498db, #2980b9); }
    .badge-hot { background: linear-gradient(45deg, #e74c3c, #c0392b); }
    .badge-premium { background: linear-gradient(45deg, #9b59b6, #8e44ad); }

    /* ===== DEVELOPERS SECTION ===== */
    .developers-section {
      background: linear-gradient(135deg, #0f3460, var(--secondary-dark), var(--primary-dark));
      color: white;
      padding: 5rem 2rem;
      position: relative;
      overflow: hidden;
    }
    .developers-container {
      max-width: 1600px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
    }
    .developers-header {
      text-align: center;
      margin-bottom: 4rem;
    }
    .developers-header h2 {
      font-family: 'Playfair Display', serif;
      font-size: 3.5rem;
      margin-bottom: 1.5rem;
      background: linear-gradient(45deg, var(--accent-green), #fff);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .developers-header p {
      font-size: 1.3rem;
      color: var(--text-light);
      max-width: 800px;
      margin: 0 auto;
      line-height: 1.8;
    }
    .developers-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 3rem;
      max-width: 1400px;
      margin: 0 auto;
    }
    .developer-card {
      background: rgba(255, 255, 255, 0.05);
      border-radius: 20px;
      overflow: hidden;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
      transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid rgba(37, 211, 102, 0.2);
      backdrop-filter: blur(10px);
      text-align: center;
      padding: 2.5rem 1.5rem;
    }
    .developer-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 15px 50px rgba(37, 211, 102, 0.2);
      border-color: rgba(37, 211, 102, 0.4);
    }
    .developer-logo-container {
      width: 180px;
      height: 120px;
      margin: 0 auto 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      padding: 10px;
      border: 2px solid rgba(255, 255, 255, 0.1);
      transition: all 0.3s ease;
    }
    .developer-card:hover .developer-logo-container {
      background: rgba(37, 211, 102, 0.1);
      border-color: rgba(37, 211, 102, 0.3);
      transform: scale(1.05);
    }
    .developer-logo {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
    }
    .developer-name {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      color: #fff;
      font-weight: 700;
    }
    .about-developer-btn {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green-light));
      color: white;
      border: none;
      padding: 1rem 2rem;
      border-radius: 10px;
      font-weight: 700;
      font-size: 1rem;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin-top: 1rem;
    }
    .about-developer-btn:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.5);
      background: linear-gradient(45deg, var(--accent-green-light), #1db954);
    }

    /* ===== MODALS ===== */
    .modal, .developer-modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0,0,0,0.9);
      backdrop-filter: blur(10px);
    }
    .modal-content, .developer-modal-content {
      background-color: white;
      margin: 2% auto;
      padding: 2.5rem;
      border-radius: 15px;
      width: 90%;
      max-width: 900px;
      max-height: 90vh;
      overflow-y: auto;
      position: relative;
      animation: modalSlideIn 0.3s ease;
    }
    @keyframes modalSlideIn {
      from {
        opacity: 0;
        transform: translateY(-50px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }
    .developer-modal-content {
      background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark), #0f3460);
      color: white;
      border: 1px solid rgba(37, 211, 102, 0.3);
    }
    .close, .developer-modal-close {
      position: absolute;
      right: 1.5rem;
      top: 1.5rem;
      font-size: 2.5rem;
      cursor: pointer;
      color: #aaa;
      transition: color 0.3s ease;
      z-index: 10;
      background: none;
      border: none;
      padding: 0;
    }
    .close:hover, .developer-modal-close:hover {
      color: var(--accent-green);
    }
    .gallery {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2rem;
    }
    .gallery img {
      width: 100%;
      height: 200px;
      object-fit: cover;
      border-radius: 8px;
      transition: transform 0.3s ease;
      cursor: pointer;
    }
    .gallery img:hover {
      transform: scale(1.05);
    }
    .property-details-modal {
      background: #f8fafc;
      border-radius: 12px;
      padding: 25px;
      margin: 25px 0;
      border: 1px solid #e2e8f0;
    }
    .property-details-modal h4 {
      font-family: 'Playfair Display', serif;
      font-size: 1.4rem;
      color: var(--primary-dark);
      margin-bottom: 20px;
      padding-bottom: 12px;
      border-bottom: 2px solid var(--accent-green);
      text-align: center;
    }
    .detail-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 18px;
    }
    .detail-item-modal {
      background: white;
      padding: 20px;
      border-radius: 10px;
      border: 1px solid #e2e8f0;
      text-align: center;
      transition: all 0.3s ease;
    }
    .detail-item-modal:hover {
      transform: translateY(-3px);
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      border-color: var(--accent-green);
    }
    .detail-item-modal strong {
      display: block;
      color: #2c3e50;
      font-size: 1rem;
      margin-bottom: 10px;
      font-weight: 700;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    .detail-item-modal strong i {
      color: var(--accent-green);
      font-size: 1.3rem;
    }
    .detail-item-modal span {
      font-weight: 800;
      color: var(--primary-dark);
      font-size: 1.2rem;
      display: block;
      margin-top: 5px;
    }
    .modal-whatsapp {
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green));
      color: white;
      padding: 1.2rem 2.5rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1.3rem;
      font-weight: 700;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 0.8rem;
      margin: 2rem 0;
      width: 100%;
    }
    .modal-whatsapp:hover {
      transform: translateY(-3px);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.5);
    }
    .modal-developer-header {
      text-align: center;
      margin-bottom: 2.5rem;
      padding-bottom: 2rem;
      border-bottom: 2px solid rgba(37, 211, 102, 0.3);
    }
    .modal-developer-logo-container {
      width: 200px;
      height: 140px;
      margin: 0 auto 1.5rem;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 15px;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 8px 30px rgba(37, 211, 102, 0.5);
      border: 4px solid rgba(255, 255, 255, 0.1);
      padding: 15px;
    }
    .modal-developer-logo {
      max-width: 100%;
      max-height: 100%;
      object-fit: contain;
    }
    .modal-developer-name {
      font-family: 'Playfair Display', serif;
      font-size: 2.5rem;
      color: #fff;
      margin-bottom: 0.5rem;
    }
    .modal-developer-description {
      color: var(--text-light);
      font-size: 1.1rem;
      line-height: 1.8;
      margin-bottom: 2rem;
    }
    .modal-developer-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 2.5rem;
      margin-top: 2rem;
    }
    .modal-section {
      background: rgba(255, 255, 255, 0.05);
      padding: 2rem;
      border-radius: 12px;
      border: 1px solid rgba(255, 255, 255, 0.1);
    }
    .modal-section h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.5rem;
      color: var(--accent-green);
      margin-bottom: 1.5rem;
      display: flex;
      align-items: center;
      gap: 0.8rem;
      padding-bottom: 1rem;
      border-bottom: 2px solid rgba(37, 211, 102, 0.3);
    }
    .projects-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 1.2rem;
      margin-top: 1rem;
    }
    .project-item {
      background: rgba(255, 255, 255, 0.08);
      border-radius: 10px;
      padding: 1.2rem;
      transition: all 0.3s ease;
      border-left: 3px solid var(--accent-green);
    }
    .project-item:hover {
      background: rgba(37, 211, 102, 0.15);
      transform: translateX(5px);
    }
    .project-item h4 {
      color: var(--accent-green);
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .project-item p {
      color: var(--text-gray);
      font-size: 0.9rem;
      margin: 0;
    }
    .project-status {
      display: inline-block;
      padding: 0.3rem 0.8rem;
      border-radius: 15px;
      font-size: 0.75rem;
      font-weight: 700;
      margin-left: 0.5rem;
    }
    .status-completed { background: linear-gradient(45deg, var(--accent-green), var(--accent-green-light)); color: white; }
    .status-ongoing { background: linear-gradient(45deg, #3498db, #2980b9); color: white; }
    .status-planned { background: linear-gradient(45deg, #f39c12, #e67e22); color: white; }
    .developer-stats {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 1.5rem;
      margin-top: 1.5rem;
      text-align: center;
    }
    .stat-item {
      padding: 1rem;
    }
    .stat-number {
      font-family: 'Playfair Display', serif;
      font-size: 2rem;
      font-weight: 700;
      color: var(--accent-green);
      margin-bottom: 0.5rem;
    }
    .stat-label {
      color: var(--text-gray);
      font-size: 0.85rem;
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* ===== FLOATING BUTTONS ===== */
    .floating-whatsapp {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      background: var(--accent-green);
      color: white;
      width: 60px;
      height: 60px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
      cursor: pointer;
      z-index: 1000;
      box-shadow: 0 4px 20px rgba(37, 211, 102, 0.6);
      transition: all 0.3s ease;
    }
    .floating-whatsapp:hover {
      transform: scale(1.1) rotate(10deg);
      box-shadow: 0 6px 30px rgba(37, 211, 102, 0.8);
    }
    .scroll-to-top {
      position: fixed;
      bottom: 80px;
      right: 2rem;
      background: linear-gradient(45deg, var(--primary-dark), #0f3460);
      color: white;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 999;
      opacity: 0;
      transition: all 0.3s ease;
    }
    .scroll-to-top.show {
      opacity: 1;
    }
    .scroll-to-top:hover {
      transform: translateY(-3px);
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
    }

    /* ===== CHAT WIDGET ===== */
    #dubai-chat-widget {
      position: fixed;
      bottom: 25px;
      right: 25px;
      z-index: 2147483647;
      transition: all 0.35s cubic-bezier(0.2, 0.8, 0.2, 1);
      box-shadow: 0 4px 20px var(--shadow-medium);
    }
    #dubai-chat-widget.minimized {
      width: 72px;
      height: 72px;
      border-radius: 50%;
      background: linear-gradient(135deg, #0a0e17, #0f1a28);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.5);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      border: 2px solid rgba(255, 255, 255, 0.15);
    }
    #dubai-chat-widget.minimized:hover {
      transform: scale(1.08) rotate(5deg);
      box-shadow: 0 8px 35px rgba(37, 211, 102, 0.7);
    }
    #dubai-chat-widget.minimized .chat-icon {
      font-size: 2.1rem;
      background: linear-gradient(45deg, var(--accent-green), #1db954);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    #dubai-chat-widget.minimized .chat-badge {
      position: absolute;
      top: 8px;
      right: 8px;
      width: 22px;
      height: 22px;
      background: var(--accent-green);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 700;
      color: white;
      border: 2px solid white;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      animation: pulseBadge 2s infinite;
    }
    @keyframes pulseBadge {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.2); }
    }
    #dubai-chat-widget.expanded {
      width: 380px;
      max-height: 85vh;
      border-radius: 24px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      background: linear-gradient(135deg, #0a0e17, #0f1a28);
      box-shadow: 0 15px 50px var(--shadow-heavy);
    }
    .chat-widget-header {
      padding: 18px 22px;
      display: flex;
      align-items: center;
      gap: 14px;
      border-bottom: 1px solid rgba(37, 211, 102, 0.25);
      position: relative;
      background: rgba(15, 23, 42, 0.95);
    }
    .chat-widget-avatar {
      width: 48px;
      height: 48px;
      border-radius: 50%;
      background: linear-gradient(45deg, var(--accent-green), #1db954);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 800;
      font-size: 1.6rem;
      flex-shrink: 0;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);
      border: 2px solid rgba(255, 255, 255, 0.15);
    }
    .chat-widget-title h3 {
      font-size: 1.45rem;
      font-weight: 700;
      margin-bottom: 2px;
      background: linear-gradient(to right, #ffffff, #e0e6f0);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .chat-widget-title p {
      font-size: 0.95rem;
      opacity: 0.85;
      margin: 0;
      color: var(--text-gray);
    }
    .chat-widget-close {
      position: absolute;
      right: 18px;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(255, 255, 255, 0.1);
      border: none;
      color: rgba(255, 255, 255, 0.8);
      font-size: 1.6rem;
      width: 42px;
      height: 42px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.3s ease;
      flex-shrink: 0;
    }
    .chat-widget-close:hover {
      background: rgba(37, 211, 102, 0.2);
      color: var(--accent-green);
      transform: translateY(-50%) scale(1.1);
    }
    .chat-widget-messages {
      padding: 20px;
      flex: 1;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 18px;
      max-height: 65vh;
      background: rgba(20, 28, 45, 0.9);
    }
    .chat-message {
      max-width: 88%;
      padding: 16px 20px;
      border-radius: 20px;
      line-height: 1.55;
      font-size: 0.98rem;
      animation: fadeIn 0.35s ease;
      position: relative;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(12px); }
      to { opacity: 1; transform: translateY(0); }
    }
    .chat-message.user {
      align-self: flex-end;
      background: linear-gradient(45deg, var(--accent-green), #1db954);
      color: white;
      border-bottom-right-radius: 8px;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.3);
    }
    .chat-message.bot {
      align-self: flex-start;
      background: rgba(30, 42, 70, 0.85);
      color: #e6e9ef;
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-bottom-left-radius: 8px;
    }
    .chat-message.bot strong {
      color: var(--accent-green);
    }
    .chat-suggestions {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 12px;
    }
    .chat-suggestion-btn {
      background: rgba(37, 211, 102, 0.12);
      color: var(--accent-green);
      border: none;
      border-radius: 16px;
      padding: 8px 14px;
      font-size: 0.85rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.25s ease;
      white-space: nowrap;
    }
    .chat-suggestion-btn:hover {
      background: rgba(37, 211, 102, 0.22);
      transform: translateY(-2px);
      box-shadow: 0 2px 8px rgba(37, 211, 102, 0.2);
    }
    .chat-widget-input {
      padding: 18px;
      background: rgba(15, 23, 42, 0.95);
      border-top: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      gap: 12px;
    }
    .chat-widget-input input {
      flex: 1;
      padding: 15px 20px;
      border: 2px solid rgba(255, 255, 255, 0.15);
      border-radius: 28px;
      font-size: 1.05rem;
      background: rgba(10, 14, 23, 0.8);
      color: white;
      outline: none;
      transition: border-color 0.3s ease;
    }
    .chat-widget-input input:focus {
      border-color: var(--accent-green);
      box-shadow: 0 0 0 3px rgba(37, 211, 102, 0.2);
    }
    .chat-widget-input input::placeholder {
      color: rgba(255, 255, 255, 0.5);
    }
    .chat-widget-input button {
      background: linear-gradient(45deg, var(--accent-green), #1db954);
      color: white;
      border: none;
      width: 52px;
      height: 52px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.35rem;
      transition: all 0.35s ease;
      flex-shrink: 0;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);
    }
    .chat-widget-input button:hover {
      transform: scale(1.1) rotate(5deg);
      box-shadow: 0 6px 25px rgba(37, 211, 102, 0.6);
    }
    .whatsapp-handoff {
      background: rgba(37, 211, 102, 0.12);
      border-left: 4px solid var(--accent-green);
      padding: 16px;
      border-radius: 0 16px 16px 0;
      margin: 12px 0;
      cursor: pointer;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 12px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }
    .whatsapp-handoff:hover {
      background: rgba(37, 211, 102, 0.2);
      transform: translateX(4px);
      box-shadow: 0 4px 12px rgba(37, 211, 102, 0.3);
    }
    .whatsapp-handoff i {
      color: var(--accent-green);
      font-size: 1.4rem;
      min-width: 24px;
    }
    .developer-highlight {
      background: rgba(37, 211, 102, 0.09);
      border-radius: 16px;
      padding: 16px;
      margin: 12px 0;
      border-left: 3px solid var(--accent-green);
      transition: all 0.3s ease;
    }
    .developer-highlight:hover {
      background: rgba(37, 211, 102, 0.12);
      transform: translateX(3px);
    }
    .project-list {
      margin: 10px 0 5px 15px;
      padding-left: 10px;
      border-left: 2px dashed rgba(37, 211, 102, 0.3);
    }
    .project-list li {
      margin-bottom: 5px;
      font-size: 0.95rem;
      color: var(--text-gray);
    }
    .typing-indicator {
      display: flex;
      align-items: center;
      gap: 6px;
      padding: 12px;
    }
    .typing-dot {
      width: 8px;
      height: 8px;
      background: var(--accent-green);
      border-radius: 50%;
      animation: typing 1.4s infinite ease-in-out;
    }
    .typing-dot:nth-child(2) { animation-delay: 0.2s; }
    .typing-dot:nth-child(3) { animation-delay: 0.4s; }
    @keyframes typing {
      0%, 100% { transform: scale(0.7); opacity: 0.5; }
      50% { transform: scale(1.2); opacity: 1; }
    }

    /* ===== MOBILE MENU ===== */
    .mobile-menu-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      z-index: 999;
      opacity: 0;
      transition: opacity 0.3s ease;
    }
    .mobile-menu-overlay.active {
      display: block;
      opacity: 1;
    }
    .mobile-menu {
      position: fixed;
      top: 0;
      right: -100%;
      width: 80%;
      max-width: 350px;
      height: 100%;
      background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark), #0f3460);
      color: white;
      padding: 2rem 1.5rem;
      z-index: 1000;
      transition: right 0.4s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: -5px 0 20px rgba(0, 0, 0, 0.3);
      overflow-y: auto;
    }
    .mobile-menu.active {
      right: 0;
    }
    .mobile-menu-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
      padding-bottom: 1.5rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    .mobile-menu-close {
      background: none;
      border: none;
      color: white;
      font-size: 1.8rem;
      cursor: pointer;
      padding: 0.5rem;
      transition: transform 0.3s ease;
    }
    .mobile-menu-close:hover {
      transform: rotate(90deg);
      color: var(--accent-green);
    }
    .mobile-menu .logo {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      font-weight: 700;
      color: #fff;
      letter-spacing: 1px;
    }
    .mobile-menu .logo span {
      color: var(--accent-green);
    }
    .mobile-nav-menu {
      list-style: none;
      margin-top: 2rem;
    }
    .mobile-nav-menu li {
      margin-bottom: 1.2rem;
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      padding-bottom: 1.2rem;
    }
    .mobile-nav-menu li:last-child {
      border-bottom: none;
      margin-bottom: 0;
      padding-bottom: 0;
    }
    .mobile-nav-menu a {
      color: white;
      text-decoration: none;
      font-weight: 600;
      font-size: 1.2rem;
      display: block;
      padding: 0.8rem 0;
      transition: all 0.3s ease;
      position: relative;
    }
    .mobile-nav-menu a:hover {
      color: var(--accent-green);
      transform: translateX(5px);
    }
    .mobile-nav-menu a::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 0;
      height: 2px;
      background: var(--accent-green);
      transition: width 0.3s ease;
    }
    .mobile-nav-menu a:hover::after {
      width: 30px;
    }
    .mobile-cta-button {
      display: block;
      width: 100%;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green-light));
      color: white;
      padding: 1rem;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-weight: 700;
      font-size: 1.1rem;
      margin-top: 2rem;
      text-align: center;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(37, 211, 102, 0.4);
    }
    .mobile-cta-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(37, 211, 102, 0.6);
    }
    .mobile-menu-social {
      margin-top: 3rem;
      padding-top: 2rem;
      border-top: 1px solid rgba(255, 255, 255, 0.1);
    }
    .mobile-menu-social h4 {
      font-size: 1rem;
      color: var(--text-gray);
      margin-bottom: 1rem;
    }
    .mobile-social-icons {
      display: flex;
      gap: 1rem;
    }
    .mobile-social-icons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255, 255, 255, 0.1);
      border-radius: 50%;
      color: white;
      text-decoration: none;
      transition: all 0.3s ease;
    }
    .mobile-social-icons a:hover {
      background: var(--accent-green);
      transform: translateY(-3px);
    }

    /* ===== FOOTER ===== */
    .footer {
      background: linear-gradient(135deg, var(--primary-dark), var(--secondary-dark), #0f3460);
      color: white;
      padding: 5rem 2rem 2rem;
      margin-top: 3rem;
      position: relative;
      overflow: hidden;
    }
    .footer-content {
      max-width: 1400px;
      margin: 0 auto;
      position: relative;
      z-index: 2;
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 3rem;
    }
    .footer-column h3 {
      font-family: 'Playfair Display', serif;
      font-size: 1.8rem;
      margin-bottom: 1.5rem;
      position: relative;
      padding-bottom: 0.8rem;
    }
    .footer-column h3::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 50px;
      height: 3px;
      background: linear-gradient(45deg, var(--accent-green), var(--accent-green));
    }
    .footer-column p {
      margin-bottom: 1.5rem;
      color: var(--text-light);
      line-height: 1.8;
    }
    .footer-links {
      list-style: none;
    }
    .footer-links li {
      margin-bottom: 0.8rem;
    }
    .footer-links a {
      color: var(--text-light);
      text-decoration: none;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }
    .footer-links a:hover {
      color: var(--accent-green);
      transform: translateX(5px);
    }
    .footer-links a i {
      font-size: 0.9rem;
      color: var(--accent-green);
    }
    .contact-info {
      list-style: none;
    }
    .contact-info li {
      margin-bottom: 1rem;
      display: flex;
      align-items: flex-start;
      gap: 1rem;
      color: var(--text-light);
    }
    .contact-info i {
      color: var(--accent-green);
      font-size: 1.2rem;
      margin-top: 0.2rem;
      min-width: 20px;
    }
    .social-icons {
      display: flex;
      gap: 1rem;
      margin-top: 1.5rem;
    }
    .social-icons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 40px;
      height: 40px;
      background: rgba(255,255,255,0.1);
      border-radius: 50%;
      color: white;
      text-decoration: none;
      transition: all 0.3s ease;
    }
    .social-icons a:hover {
      background: var(--accent-green);
      transform: translateY(-3px);
    }
    .newsletter-form {
      display: flex;
      margin-top: 1.5rem;
    }
    .newsletter-form input {
      flex: 1;
      padding: 0.8rem;
      border: none;
      border-radius: 5px 0 0 5px;
      font-size: 1rem;
    }
    .newsletter-form button {
      background: var(--accent-green);
      color: white;
      border: none;
      padding: 0 1.2rem;
      border-radius: 0 5px 5px 0;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
    }
    .newsletter-form button:hover {
      background: var(--accent-green-light);
    }
    .footer-bottom {
      text-align: center;
      padding-top: 3rem;
      margin-top: 3rem;
      border-top: 1px solid rgba(255,255,255,0.1);
      color: #b0b0b0;
      font-size: 0.9rem;
    }
    .footer-bottom a {
      color: var(--accent-green);
      text-decoration: none;
    }
    .footer-bottom a:hover {
      text-decoration: underline;
    }

    /* ===== RESPONSIVE DESIGN ===== */
    @media (max-width: 768px) {
      .header {
        padding: 1rem;
      }
      .hamburger-menu {
        display: flex;
      }
      .nav-menu {
        display: none;
      }
      .header-logo {
        height: 45px;
      }
      .hero-slider {
        height: 60vh;
        margin-top: 70px;
      }
      .slide-content h2 {
        font-size: 2.2rem;
      }
      .slide-content p {
        font-size: 1.1rem;
      }
      .ai-avatar {
        width: 100px;
        height: 100px;
      }
      .ai-text {
        padding: 14px 16px;
        font-size: 1rem;
      }
      .ai-option-btn {
        min-width: 110px;
        padding: 14px 16px;
        font-size: 0.95rem;
      }
      .ai-back-btn {
        padding: 8px 16px;
        font-size: 0.95rem;
      }
      .properties-grid {
        grid-template-columns: 1fr;
        padding: 2rem 1rem;
        gap: 1.5rem;
      }
      .property-card {
        min-height: 400px;
      }
      .property-card img {
        height: 200px;
      }
      .property-info {
        padding: 1.5rem;
      }
      .property-card h3 {
        font-size: 1.3rem;
      }
      .price {
        font-size: 1.4rem;
      }
      .developers-header h2 {
        font-size: 2.5rem;
      }
      .developers-grid {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
      .developer-logo-container {
        width: 150px;
        height: 100px;
      }
      .developer-name {
        font-size: 1.5rem;
      }
      .modal-developer-grid {
        grid-template-columns: 1fr;
      }
      .modal-developer-logo-container {
        width: 160px;
        height: 110px;
      }
      .modal-developer-name {
        font-size: 2rem;
      }
      .developer-stats {
        grid-template-columns: repeat(2, 1fr);
        gap: 1rem;
      }
      .stat-number {
        font-size: 1.5rem;
      }
      #dubai-chat-widget.minimized {
        width: 64px;
        height: 64px;
        bottom: 20px;
        right: 20px;
      }
      #dubai-chat-widget.minimized .chat-icon {
        font-size: 1.9rem;
      }
      #dubai-chat-widget.expanded {
        width: 95%;
        max-width: 420px;
        max-height: 85vh;
        bottom: 20px;
        right: 2.5%;
        border-radius: 28px;
      }
      .chat-widget-messages {
        max-height: 60vh;
      }
      .chat-message {
        max-width: 95%;
      }
      .chat-widget-avatar {
        width: 44px;
        height: 44px;
        font-size: 1.5rem;
      }
      .chat-suggestion-btn {
        font-size: 0.8rem;
        padding: 6px 12px;
      }
      .floating-whatsapp {
        bottom: 1rem;
        right: 1rem;
        width: 50px;
        height: 50px;
        font-size: 1.5rem;
      }
      .footer-content {
        grid-template-columns: 1fr;
        gap: 2rem;
      }
      .footer {
        padding: 4rem 1rem 1rem;
      }
      .newsletter-form {
        flex-direction: column;
        gap: 0.5rem;
      }
      .newsletter-form input,
      .newsletter-form button {
        width: 100%;
        border-radius: 5px;
      }
      .detail-grid {
        grid-template-columns: repeat(2, 1fr);
      }
    }
  </style>
</head>
<body>
  <!-- Header with Hamburger Menu -->
  <header class="header" id="header">
    <div class="header-container">
      <div class="header-left">
        <img src="images/daonelogo.png" alt="Dubai One Logo" class="header-logo">
      </div>
      <nav>
        <ul class="nav-menu">
          <li><a href="#home">Home</a></li>
          <li><a href="#about">About</a></li>
          <li><a href="#properties">Properties</a></li>
          <li><a href="#developers">Developers</a></li>
          <li><a href="#contact">Contact</a></li>
        </ul>
      </nav>
      <div class="header-right">
       
        <div class="hamburger-menu" id="hamburgerMenu">
          <span></span>
          <span></span>
          <span></span>
        </div>
      </div>
    </div>
  </header>

  <!-- Mobile Menu Overlay -->
  <div class="mobile-menu-overlay" id="mobileMenuOverlay"></div>

  <!-- Mobile Menu -->
  <div class="mobile-menu" id="mobileMenu">
    <div class="mobile-menu-header">
      <div class="logo">Dubai<span>One</span></div>
      <button class="mobile-menu-close" id="mobileMenuClose">
        <i class="fas fa-times"></i>
      </button>
    </div>
    <ul class="mobile-nav-menu">
      <li><a href="#home" onclick="closeMobileMenu()">Home</a></li>
      <li><a href="#about" onclick="closeMobileMenu()">About</a></li>
      <li><a href="#properties" onclick="closeMobileMenu()">Properties</a></li>
      <li><a href="#developers" onclick="closeMobileMenu()">Developers</a></li>
      <li><a href="#contact" onclick="closeMobileMenu()">Contact</a></li>
    </ul>
 
    <div class="mobile-menu-social">
      <h4>Follow Us</h4>
      <div class="mobile-social-icons">
        <a href="#"><i class="fab fa-facebook-f"></i></a>
        <a href="#"><i class="fab fa-instagram"></i></a>
        <a href="#"><i class="fab fa-twitter"></i></a>
        <a href="#"><i class="fab fa-linkedin-in"></i></a>
      </div>
    </div>
  </div>

  <!-- Hero Slider -->
  <section class="hero-slider">
    <div class="slide active" style="background-image: url('https://images.unsplash.com/photo-1566073771259-6a8506099945?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
      <div class="slide-content">
        <h2>Dubai 2030: The Future is Here</h2>
        <p>Experience the next generation of smart cities and sustainable living</p>
        <div class="slide-buttons">
          <button class="cta-button" onclick="openWhatsApp()">
            <i class="fab fa-whatsapp"></i> Enquire Now
          </button>
        </div>
      </div>
    </div>
    <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
      <div class="slide-content">
        <h2>Dubai Creek Harbour 2030</h2>
        <p>The new downtown with the world's tallest tower and smart infrastructure</p>
        <div class="slide-buttons">
          <button class="cta-button" onclick="openWhatsApp()">
            <i class="fab fa-whatsapp"></i> Enquire Now
          </button>
        </div>
      </div>
    </div>
    <div class="slide" style="background-image: url('https://images.unsplash.com/photo-1582267098481-3340e96e7d4f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1950&q=80');">
      <div class="slide-content">
        <h2>Dubai Hills Estate 2030</h2>
        <p>Integrated smart community with green spaces and autonomous transport</p>
        <div class="slide-buttons">
          <button class="cta-button" onclick="openWhatsApp()">
            <i class="fab fa-whatsapp"></i> Enquire Now
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- AI-Guided Search Bar -->
  <div class="filter-bar">
    <div class="ai-search-container">
      <div class="ai-message">
        <div class="ai-avatar">
          <img src="images/daonelogo.png" alt="Dubai One Logo">
        </div>
        <div class="ai-text">
          <span id="aiPrompt">Hi! What type of property are you looking for?</span>
        </div>
      </div>
      <div class="text-search-bar">
        <input type="text" id="filterSearch" placeholder="Search properties by name, location, or keywordâ€¦">
      </div>
      <div class="ai-options" id="aiOptions">
        <button class="ai-option-btn" data-value="">Any Property Type</button>
        <button class="ai-option-btn" data-value="villa">Villa</button>
        <button class="ai-option-btn" data-value="townhouse">Townhouse</button>
        <button class="ai-option-btn" data-value="apartment">Apartment</button>
        <button class="ai-option-btn" data-value="studio">Studio</button>
        <button class="ai-option-btn" data-value="penthouse">Penthouse</button>
      </div>
      <button class="ai-back-btn" id="aiBackBtn">
        <i class="fas fa-arrow-left"></i> Back
      </button>
      <input type="hidden" id="filterPropertyType" value="">
      <input type="hidden" id="filterLocation" value="">
      <input type="hidden" id="filterBedrooms" value="">
    </div>
  </div>

  <!-- Property Cards Grid -->
  <div class="properties-grid" id="propertiesGrid">
    <!-- Property Card 1 - Villa -->
    <div class="property-card" data-property-type="villa" data-location="palm-jumeirah" data-bedrooms="4" data-developer="Nakheel" onclick="openModal(this)">
      <img src="https://images.unsplash.com/photo-1512917774080-9991f1c4c750?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Palm Villa">
      <div class="property-badge badge-premium">Premium</div>
      <div class="property-info">
        <h3>Oceanfront Villa</h3>
        <p>Exclusive 4-bedroom villa on Palm Jumeirah with private beach access, infinity pool, and stunning Arabian Gulf views.</p>
        <button class="property-whatsapp" onclick="openWhatsApp(); event.stopPropagation();">
          <i class="fab fa-whatsapp"></i> Enquire Now
        </button>
      </div>
    </div>
    
    <!-- Property Card 2 - Apartment -->
    <div class="property-card" data-property-type="apartment" data-location="downtown-dubai" data-bedrooms="2" data-developer="Emaar" onclick="openModal(this)">
      <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Luxury Downtown Apartment">
      <div class="property-badge badge-featured">Featured</div>
      <div class="property-info">
        <h3>Luxury Downtown Apartment</h3>
        <p>Stunning 2-bedroom apartment with breathtaking Burj Khalifa views in the heart of Downtown Dubai. Premium finishes throughout.</p>
        <button class="property-whatsapp" onclick="openWhatsApp(); event.stopPropagation();">
          <i class="fab fa-whatsapp"></i> Enquire Now
        </button>
      </div>
    </div>
    
    <!-- Property Card 3 - Studio -->
    <div class="property-card" data-property-type="studio" data-location="dubai-marina" data-bedrooms="studio" data-developer="Damac" onclick="openModal(this)">
      <img src="https://images.unsplash.com/photo-1600585154340-be6161a56a0c?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="Modern Marina Studio">
      <div class="property-badge badge-new">New</div>
      <div class="property-info">
        <h3>Modern Marina Studio</h3>
        <p>Cozy studio apartment in Dubai Marina with panoramic sea views and access to world-class amenities including pool and gym.</p>
        <button class="property-whatsapp" onclick="openWhatsApp(); event.stopPropagation();">
          <i class="fab fa-whatsapp"></i> Enquire Now
        </button>
      </div>
    </div>
    
    <!-- Property Card 4 - Apartment -->
    <div class="property-card" data-property-type="apartment" data-location="jumeirah-beach-residence" data-bedrooms="3" data-developer="Meraas" onclick="openModal(this)">
      <img src="https://images.unsplash.com/photo-1582267098481-3340e96e7d4f?ixlib=rb-4.0.3&auto=format&fit=crop&w=800&q=80" alt="JBR Apartment">
      <div class="property-badge badge-hot">Hot Deal</div>
      <div class="property-info">
        <h3>Beachfront Apartment</h3>
        <p>Spacious 3-bedroom apartment in JBR with direct beach access, modern amenities, and breathtaking sea views from every room.</p>
        <button class="property-whatsapp" onclick="openWhatsApp(); event.stopPropagation();">
          <i class="fab fa-whatsapp"></i> Enquire Now
        </button>
      </div>
    </div>
  </div>

  <!-- Developers Section -->
  <section class="developers-section" id="developers">
    <div class="developers-container">
      <div class="developers-header">
        <h2><i class="fas fa-building"></i> Our Premier Developers</h2>
        <p>Dubai One partners with the most prestigious and trusted real estate developers in the UAE, ensuring exceptional quality, innovative design, and world-class amenities in every project.</p>
      </div>
      <div class="developers-grid">
        <!-- Developer Card 1 - Emaar -->
        <div class="developer-card">
          <div class="developer-logo-container">
            <img src="images/EMAAR LOGO.png" alt="Emaar Properties Logo" class="developer-logo">
          </div>
          <h3 class="developer-name">Emaar Properties</h3>
          <button class="about-developer-btn" onclick="openDeveloperModal('emaar')">
            <i class="fas fa-info-circle"></i> About Developer
          </button>
        </div>
        
        <!-- Developer Card 2 - Nakheel -->
        <div class="developer-card">
          <div class="developer-logo-container">
            <img src="images/nakheel.jpg" alt="Nakheel Logo" class="developer-logo">
          </div>
          <h3 class="developer-name">Nakheel</h3>
          <button class="about-developer-btn" onclick="openDeveloperModal('nakheel')">
            <i class="fas fa-info-circle"></i> About Developer
          </button>
        </div>
        
        <!-- Developer Card 3 - Damac -->
        <div class="developer-card">
          <div class="developer-logo-container">
            <img src="images/DAMAC.jpg" alt="Damac Properties Logo" class="developer-logo">
          </div>
          <h3 class="developer-name">Damac Properties</h3>
          <button class="about-developer-btn" onclick="openDeveloperModal('damac')">
            <i class="fas fa-info-circle"></i> About Developer
          </button>
        </div>
        
        <!-- Developer Card 4 - Meraas -->
        <div class="developer-card">
          <div class="developer-logo-container">
            <img src="images/meraas.jpg" alt="Meraas Logo" class="developer-logo">
          </div>
          <h3 class="developer-name">Meraas</h3>
          <button class="about-developer-btn" onclick="openDeveloperModal('meraas')">
            <i class="fas fa-info-circle"></i> About Developer
          </button>
        </div>
      </div>
    </div>
  </section>

  <!-- Property Modal -->
  <div id="propertyModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal()">&times;</span>
      <h2 id="modal-title">Luxury Downtown Dubai Apartment</h2>
      <div class="gallery">
        <img src="https://images.unsplash.com/photo-1564013799919-ab600027ffc6?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Property Image 1">
        <img src="https://images.unsplash.com/photo-1582267098481-3340e96e7d4f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Property Image 2">
        <img src="https://images.unsplash.com/photo-1600585152915-d208bec867a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Property Image 3">
        <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="Property Image 4">
      </div>
      <div id="modal-description">
        <h3>Luxury Downtown Dubai Apartment</h3>
        <p>Premium luxury apartment in the heart of Downtown Dubai with stunning Burj Khalifa views. Features high-end finishes, spacious living areas, and access to world-class amenities including infinity pool, fitness center, and concierge services.</p>
        <p><strong>Specifications:</strong> 3BR, 2BA, 1,800 sq ft, Floor-to-ceiling windows, Premium kitchen appliances, Private balcony with panoramic views</p>
        <p><strong>Location Benefits:</strong> Walking distance to Dubai Mall, Metro station, and major attractions. Close to business districts and entertainment venues.</p>
        <p><strong>Amenities:</strong> 24/7 security, valet parking, spa and wellness center, children's play area, rooftop garden</p>
      </div>
      <div class="property-details-modal">
        <h4>Property Details</h4>
        <div class="detail-grid" id="modal-property-details"></div>
      </div>
      <button class="modal-whatsapp" onclick="openWhatsApp()">
        <i class="fab fa-whatsapp"></i> Speak to an Agent
      </button>
    </div>
  </div>

  <!-- Developer Modal -->
  <div id="developerModal" class="developer-modal">
    <div class="developer-modal-content">
      <button class="developer-modal-close" onclick="closeDeveloperModal()">&times;</button>
      <div class="modal-developer-header">
        <div class="modal-developer-logo-container">
          <img src="" alt="Developer Logo" id="modalDeveloperLogo" class="modal-developer-logo">
        </div>
        <h2 class="modal-developer-name" id="modalDeveloperName">Developer Name</h2>
        <p class="modal-developer-description" id="modalDeveloperDescription">Developer description will appear here.</p>
      </div>
      <div class="modal-developer-grid">
        <div class="modal-section">
          <h3><i class="fas fa-check-circle"></i> Completed Projects</h3>
          <div class="projects-grid" id="modalCompletedProjects"></div>
        </div>
        <div class="modal-section">
          <h3><i class="fas fa-hard-hat"></i> Ongoing Projects</h3>
          <div class="projects-grid" id="modalOngoingProjects"></div>
        </div>
        <div class="modal-section">
          <h3><i class="fas fa-lightbulb"></i> Planned Projects</h3>
          <div class="projects-grid" id="modalPlannedProjects"></div>
        </div>
        <div class="modal-section">
          <h3><i class="fas fa-chart-line"></i> Developer Statistics</h3>
          <div class="developer-stats" id="modalDeveloperStats"></div>
        </div>
      </div>
    </div>
  </div>

  <!-- Floating Buttons -->
  <div class="floating-whatsapp" onclick="openWhatsApp()">
    <i class="fab fa-whatsapp"></i>
  </div>
  
  <div class="scroll-to-top" onclick="scrollToTop()">
    <i class="fas fa-arrow-up"></i>
  </div>

  <!-- Dubai One AI Chat Widget -->
  <div id="dubai-chat-widget" class="minimized">
    <i class="fas fa-comments chat-icon"></i>
    <span class="chat-badge">?</span>
  </div>

  <!-- Footer -->
  <footer class="footer" id="contact">
    <div class="footer-content">
      <div class="footer-column">
        <h3>Dubai One</h3>
        <p>Dubai One is the premier luxury real estate agency in Dubai, offering exclusive access to the city's most prestigious properties. With over 15 years of experience, we connect discerning clients with their dream homes and investment opportunities.</p>
        <div class="social-icons">
          <a href="#"><i class="fab fa-facebook-f"></i></a>
          <a href="#"><i class="fab fa-instagram"></i></a>
          <a href="#"><i class="fab fa-twitter"></i></a>
          <a href="#"><i class="fab fa-linkedin-in"></i></a>
          <a href="#"><i class="fab fa-youtube"></i></a>
        </div>
      </div>
      <div class="footer-column">
        <h3>Quick Links</h3>
        <ul class="footer-links">
          <li><a href="#home"><i class="fas fa-chevron-right"></i> Home</a></li>
          <li><a href="#about"><i class="fas fa-chevron-right"></i> About Us</a></li>
          <li><a href="#properties"><i class="fas fa-chevron-right"></i> Properties</a></li>
          <li><a href="#developers"><i class="fas fa-chevron-right"></i> Developers</a></li>
          <li><a href="#"><i class="fas fa-chevron-right"></i> Investment Guide</a></li>
          <li><a href="#"><i class="fas fa-chevron-right"></i> Property Management</a></li>
          <li><a href="#contact"><i class="fas fa-chevron-right"></i> Contact Us</a></li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Contact Information</h3>
        <ul class="contact-info">
          <li>
            <i class="fas fa-map-marker-alt"></i>
            <span>Office 1502, Burj Khalifa, Downtown Dubai, United Arab Emirates</span>
          </li>
          <li>
            <i class="fas fa-phone"></i>
            <span>+971 54 303 4025</span>
          </li>
          <li>
            <i class="fas fa-envelope"></i>
            <span>info@dubai-one.ae</span>
          </li>
          <li>
            <i class="fas fa-clock"></i>
            <span>Monday - Saturday: 9:00 AM - 8:00 PM<br>Sunday: 11:00 AM - 6:00 PM</span>
          </li>
        </ul>
      </div>
      <div class="footer-column">
        <h3>Newsletter</h3>
        <p>Subscribe to receive the latest property listings and market updates.</p>
        <form class="newsletter-form" id="newsletterForm">
          <input type="email" placeholder="Your email address" required>
          <button type="submit"><i class="fas fa-paper-plane"></i></button>
        </form>
        <p style="font-size: 0.85rem; margin-top: 1rem; color: #b0b0b0;">We respect your privacy. Unsubscribe at any time.</p>
      </div>
    </div>
    <div class="footer-bottom">
      <p>&copy; 2025 Dubai One. All rights reserved. | <a href="#">Privacy Policy</a> | <a href="#">Terms of Service</a> | <a href="#">Cookie Policy</a></p>
    </div>
  </footer>

  <script>
    // ===== CORE FUNCTIONALITY =====
    document.addEventListener('DOMContentLoaded', () => {
      // Header scroll effect
      const header = document.getElementById('header');
      let lastScroll = 0;
      
      window.addEventListener('scroll', () => {
        const currentScroll = window.pageYOffset;
        if (currentScroll > 50) {
          header.classList.add('scrolled');
        } else {
          header.classList.remove('scrolled');
        }
        lastScroll = currentScroll;
        
        // Scroll to top button
        const scrollTopBtn = document.querySelector('.scroll-to-top');
        if (currentScroll > 300) {
          scrollTopBtn.classList.add('show');
        } else {
          scrollTopBtn.classList.remove('show');
        }
      });
      
      // Initialize property cards animation
      document.querySelectorAll('.property-card').forEach((card, index) => {
        card.style.animationDelay = `${index * 0.15}s`;
      });
      
      // Hamburger menu functionality
      const hamburger = document.getElementById('hamburgerMenu');
      const mobileMenu = document.getElementById('mobileMenu');
      const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
      const mobileMenuClose = document.getElementById('mobileMenuClose');
      
      if (hamburger) {
        hamburger.addEventListener('click', () => {
          mobileMenu.classList.toggle('active');
          mobileMenuOverlay.classList.toggle('active');
          hamburger.classList.toggle('active');
          document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : 'auto';
        });
      }
      
      if (mobileMenuClose) {
        mobileMenuClose.addEventListener('click', closeMobileMenu);
      }
      
      if (mobileMenuOverlay) {
        mobileMenuOverlay.addEventListener('click', closeMobileMenu);
      }
      
      // Smooth scrolling for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href');
          if (targetId === '#') return;
          
          const target = document.querySelector(targetId);
          if (target) {
            target.scrollIntoView({ behavior: 'smooth', block: 'start' });
            closeMobileMenu();
          }
        });
      });
      
      // Initialize AI search
      aiSearch.init();
      aiSearch.renderInitialStep();
      
      // Initialize chat widget
      initChatWidget();
    });
    
    function closeMobileMenu() {
      const mobileMenu = document.getElementById('mobileMenu');
      const mobileMenuOverlay = document.getElementById('mobileMenuOverlay');
      const hamburger = document.getElementById('hamburgerMenu');
      
      mobileMenu.classList.remove('active');
      mobileMenuOverlay.classList.remove('active');
      hamburger.classList.remove('active');
      document.body.style.overflow = 'auto';
    }
    
    // ===== SLIDER FUNCTIONALITY =====
    let currentSlide = 0;
    const slides = document.querySelectorAll('.slide');
    let slideInterval;
    
    function showSlide(index) {
      slides.forEach((slide, i) => {
        slide.classList.remove('active');
        if (i === index) slide.classList.add('active');
      });
    }
    
    function nextSlide() {
      currentSlide = (currentSlide + 1) % slides.length;
      showSlide(currentSlide);
    }
    
    function startSlider() {
      slideInterval = setInterval(nextSlide, 6000);
    }
    
    function stopSlider() {
      clearInterval(slideInterval);
    }
    
    const slider = document.querySelector('.hero-slider');
    slider.addEventListener('mouseenter', stopSlider);
    slider.addEventListener('mouseleave', startSlider);
    startSlider();
    
    // ===== WHATSAPP INTEGRATION =====
    function openWhatsApp() {
      const messages = [
        "Hello! I'm interested in property information from your website.",
        "Hi! I'd like to learn more about your available properties.",
        "Hello! I found a property on your site and would like more details."
      ];
      const randomMessage = messages[Math.floor(Math.random() * messages.length)];
      const message = encodeURIComponent(randomMessage);
      const phoneNumber = "971543034025";
      window.open(`https://wa.me/${phoneNumber}?text=${message}`, '_blank');
    }
    
    // ===== MODAL FUNCTIONALITY =====
    function openModal(propertyCard) {
      if (!propertyCard) return;
      
      const title = propertyCard.querySelector('h3').textContent;
      const description = propertyCard.querySelector('p').textContent;
      const mainImage = propertyCard.querySelector('img').src;
      const propertyType = propertyCard.dataset.propertyType;
      const location = propertyCard.dataset.location;
      const bedrooms = propertyCard.dataset.bedrooms;
      const developer = propertyCard.dataset.developer;
      
      // Update modal content
      const modal = document.getElementById('propertyModal');
      document.getElementById('modal-title').textContent = title;
      
      const modalDescription = document.getElementById('modal-description');
      modalDescription.innerHTML = `
        <h3>${title}</h3>
        <p>${description}</p>
        <p><strong>Specifications:</strong> Premium finishes, spacious living areas, and access to world-class amenities including infinity pool, fitness center, and concierge services.</p>
        <p><strong>Amenities:</strong> 24/7 security, valet parking, spa and wellness center, children's play area, rooftop garden</p>
      `;
      
      // Update property details
      const modalDetails = document.getElementById('modal-property-details');
      modalDetails.innerHTML = `
        <div class="detail-item-modal">
          <strong><i class="fas fa-map-marker-alt"></i> Location</strong>
          <span>${formatLocation(location)}</span>
        </div>
        <div class="detail-item-modal">
          <strong><i class="fas fa-home"></i> Property Type</strong>
          <span>${capitalizeFirstLetter(propertyType)}</span>
        </div>
        <div class="detail-item-modal">
          <strong><i class="fas fa-bed"></i> Bedrooms</strong>
          <span>${formatBedrooms(bedrooms)}</span>
        </div>
        <div class="detail-item-modal">
          <strong><i class="fas fa-building"></i> Developer</strong>
          <span>${developer}</span>
        </div>
      `;
      
      // Update gallery
      const gallery = modal.querySelector('.gallery');
      gallery.innerHTML = `
        <img src="${mainImage}" alt="${title} - Main View">
        <img src="https://images.unsplash.com/photo-1582267098481-3340e96e7d4f?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="${title} - Interior">
        <img src="https://images.unsplash.com/photo-1600585152915-d208bec867a1?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="${title} - View">
        <img src="https://images.unsplash.com/photo-1560448204-e02f11c3d0e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=400&q=80" alt="${title} - Amenities">
      `;
      
      modal.style.display = 'block';
      document.body.style.overflow = 'hidden';
    }
    
    function closeModal() {
      document.getElementById('propertyModal').style.display = 'none';
      document.body.style.overflow = 'auto';
    }
    
    function openDeveloperModal(developerId) {
      const modal = document.getElementById('developerModal');
      const modalLogo = document.getElementById('modalDeveloperLogo');
      const modalName = document.getElementById('modalDeveloperName');
      const modalDescription = document.getElementById('modalDeveloperDescription');
      const modalCompleted = document.getElementById('modalCompletedProjects');
      const modalOngoing = document.getElementById('modalOngoingProjects');
      const modalPlanned = document.getElementById('modalPlannedProjects');
      const modalStats = document.getElementById('modalDeveloperStats');
      
      // Developer data
      const developers = {
        emaar: {
          logo: 'images/EMAAR LOGO.png',
          name: 'Emaar Properties',
          description: 'Founded in 1997 by Chairman Mohamed Alabbar, Emaar Properties is one of the world\'s most valuable real estate companies and a pioneer in shaping Dubai\'s modern landscape. Known for iconic developments like Burj Khalifa and The Dubai Mall.',
          completed: [
            { name: 'Burj Khalifa', desc: 'World\'s tallest building at 828m' },
            { name: 'The Dubai Mall', desc: 'World\'s largest shopping destination' },
            { name: 'Downtown Dubai', desc: 'Flagship mixed-use development' },
            { name: 'Dubai Hills Estate', desc: 'Master planned golf community' },
            { name: 'Emaar Beachfront', desc: 'Exclusive island destination' }
          ],
          ongoing: [
            { name: 'The Oasis by Emaar', desc: 'Luxury waterfront residences' },
            { name: 'Emaar South', desc: 'New urban district near Al Maktoum Airport' },
            { name: 'Dubai Creek Harbour', desc: 'New downtown with smart infrastructure' },
            { name: 'Arabian Ranches III', desc: 'Villa community expansion' }
          ],
          planned: [
            { name: 'Emaar Towers Phase 2', desc: 'Ultra-luxury residential towers' },
            { name: 'Dubai Hills Expansion', desc: 'New residential and commercial zones' },
            { name: 'Waterfront District', desc: 'Mixed-use development on Dubai Creek' }
          ],
          stats: [
            { number: '500+', label: 'Projects Delivered' },
            { number: '150K+', label: 'Happy Residents' },
            { number: 'AED 200B+', label: 'Assets Under Management' }
          ]
        },
        nakheel: {
          logo: 'images/nakheel.jpg',
          name: 'Nakheel',
          description: 'Nakheel is a leading Dubai-based developer renowned for its innovative, world-class real estate projects. Creator of the iconic Palm Jumeirah, The World Islands, and Deira Islands, transforming Dubai\'s coastline.',
          completed: [
            { name: 'Palm Jumeirah', desc: 'Iconic man-made island' },
            { name: 'The World Islands', desc: 'Archipelago of 300 islands' },
            { name: 'Deira Islands', desc: 'Waterfront destination' },
            { name: 'Jumeirah Village Circle', desc: 'Family-friendly communities' },
            { name: 'Ibn Battuta Mall', desc: 'Themed shopping destination' }
          ],
          ongoing: [
            { name: 'Deira Islands Night Souk', desc: 'Traditional market experience' },
            { name: 'Palm Jebel Ali', desc: 'Revival of iconic project' },
            { name: 'Dubai Islands', desc: 'New waterfront community' },
            { name: 'JVC Expansion', desc: 'Additional residential units' }
          ],
          planned: [
            { name: 'Palm Deira Phase 2', desc: 'New island development' },
            { name: 'Waterfront Residences', desc: 'Luxury apartments on Dubai Creek' },
            { name: 'Golf Community', desc: 'Championship golf course development' }
          ],
          stats: [
            { number: '15+', label: 'Major Projects' },
            { number: '80K+', label: 'Properties Delivered' },
            { number: 'AED 100B+', label: 'Project Value' }
          ]
        },
        damac: {
          logo: 'images/DAMAC.jpg',
          name: 'DAMAC Properties',
          description: 'Established in 2002, Damac Properties is a leading luxury real estate developer in the Middle East. Known for opulent designs, premium amenities, and strategic partnerships with global luxury brands like Versace and Paramount.',
          completed: [
            { name: 'Versace Residences', desc: 'Ultra-luxury waterfront homes' },
            { name: 'Paramount Towers', desc: 'Hollywood-inspired development' },
            { name: 'Damac Hills', desc: 'Golf master community' },
            { name: 'Aykon City', desc: 'Premium canal development' },
            { name: 'Damac Towers', desc: 'Business Bay landmark' }
          ],
          ongoing: [
            { name: 'DAMAC Lagoons', desc: 'Waterfront community with 7 districts' },
            { name: 'DAMAC Grove', desc: 'Nature-inspired residential project' },
            { name: 'Aykon City Phase 2', desc: 'Expansion of premium development' },
            { name: 'DAMAC Hills 2', desc: 'New golf community' }
          ],
          planned: [
            { name: 'DAMAC Towers Phase 2', desc: 'Luxury high-rise expansion' },
            { name: 'Beachfront Residences', desc: 'Premium sea-facing apartments' },
            { name: 'Business Bay Towers', desc: 'Commercial and residential complex' }
          ],
          stats: [
            { number: '250+', label: 'Completed Projects' },
            { number: '45K+', label: 'Units Delivered' },
            { number: 'AED 60B+', label: 'Total Value' }
          ]
        },
        meraas: {
          logo: 'images/meraas.jpg',
          name: 'Meraas',
          description: 'Meraas is a Dubai-based holding company that develops lifestyle destinations, contributing to the Emirate\'s vision of becoming a global hub for business and leisure. Known for innovative mixed-use developments.',
          completed: [
            { name: 'City Walk', desc: 'Open-air lifestyle destination' },
            { name: 'La Mer', desc: 'Beachfront destination with retail' },
            { name: 'Bluewaters Island', desc: 'Modern residential and retail island' },
            { name: 'JBR (Jumeirah Beach Residence)', desc: 'Vibrant beachfront community' },
            { name: 'The Outlet Village', desc: 'Premium outlet shopping destination' }
          ],
          ongoing: [
            { name: 'Dubai Harbour', desc: 'Marina development with observation wheel' },
            { name: 'Central Beach', desc: 'Waterfront residential project' },
            { name: 'Pearl Jumeirah', desc: 'Luxury resort and residences' },
            { name: 'Port de La Mer', desc: 'Mediterranean-inspired community' }
          ],
          planned: [
            { name: 'Dubai Harbour Expansion', desc: 'Additional marina and residences' },
            { name: 'Beach District', desc: 'New waterfront lifestyle destination' },
            { name: 'Innovation Hub', desc: 'Tech-focused mixed-use development' }
          ],
          stats: [
            { number: '50+', label: 'Projects Completed' },
            { number: '30K+', label: 'Residents & Visitors Daily' },
            { number: 'AED 80B+', label: 'Portfolio Value' }
          ]
        }
      };
      
      const dev = developers[developerId];
      if (!dev) return;
      
      // Update modal content
      modalLogo.src = dev.logo;
      modalName.textContent = dev.name;
      modalDescription.textContent = dev.description;
      
      // Update completed projects
      modalCompleted.innerHTML = dev.completed.map(project => `
        <div class="project-item">
          <h4>${project.name} <span class="project-status status-completed">Completed</span></h4>
          <p>${project.desc}</p>
        </div>
      `).join('');
      
      // Update ongoing projects
      modalOngoing.innerHTML = dev.ongoing.map(project => `
        <div class="project-item">
          <h4>${project.name} <span class="project-status status-ongoing">Ongoing</span></h4>
          <p>${project.desc}</p>
        </div>
      `).join('');
      
      // Update planned projects
      modalPlanned.innerHTML = dev.planned.map(project => `
        <div class="project-item">
          <h4>${project.name} <span class="project-status status-planned">Planned</span></h4>
          <p>${project.desc}</p>
        </div>
      `).join('');
      
      // Update stats
      modalStats.innerHTML = dev.stats.map(stat => `
        <div class="stat-item">
          <div class="stat-number">${stat.number}</div>
          <div class="stat-label">${stat.label}</div>
        </div>
      `).join('');
      
      // Show modal
      modal.style.display = 'block';
      document.body.style.overflow = 'hidden';
    }
    
    function closeDeveloperModal() {
      document.getElementById('developerModal').style.display = 'none';
      document.body.style.overflow = 'auto';
    }
    
    // Close modals when clicking outside
    window.addEventListener('click', (event) => {
      const propertyModal = document.getElementById('propertyModal');
      const developerModal = document.getElementById('developerModal');
      
      if (event.target === propertyModal) closeModal();
      if (event.target === developerModal) closeDeveloperModal();
    });
    
    // Close modals with Escape key
    document.addEventListener('keydown', (event) => {
      if (event.key === 'Escape') {
        closeModal();
        closeDeveloperModal();
      }
    });
    
    // ===== HELPER FUNCTIONS =====
    function formatLocation(location) {
      return location
        .replace(/-/g, ' ')
        .replace(/\b\w/g, char => char.toUpperCase());
    }
    
    function capitalizeFirstLetter(string) {
      return string.charAt(0).toUpperCase() + string.slice(1);
    }
    
    function formatBedrooms(bedrooms) {
      if (bedrooms === 'studio') return 'Studio';
      return `${bedrooms} Bedroom${bedrooms > 1 ? 's' : ''}`;
    }
    
    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
    
    // ===== AI SEARCH FUNCTIONALITY =====
    const aiSearch = {
      step: 0,
      selectedPropertyType: '',
      selectedLocation: '',
      selectedBedrooms: '',
      propertyTypes: [
        { value: '', label: 'Any Property Type' },
        { value: 'villa', label: 'Villa' },
        { value: 'townhouse', label: 'Townhouse' },
        { value: 'apartment', label: 'Apartment' },
        { value: 'studio', label: 'Studio' },
        { value: 'penthouse', label: 'Penthouse' }
      ],
      locations: [
        { value: '', label: 'Any Location' },
        { value: 'downtown-dubai', label: 'Downtown Dubai' },
        { value: 'dubai-marina', label: 'Dubai Marina' },
        { value: 'jumeirah-beach-residence', label: 'JBR' },
        { value: 'palm-jumeirah', label: 'Palm Jumeirah' },
        { value: 'business-bay', label: 'Business Bay' },
        { value: 'dubai-hills-estate', label: 'Dubai Hills Estate' }
      ],
      bedrooms: [
        { value: '', label: 'Any Bedrooms' },
        { value: '1', label: '1 Bedroom' },
        { value: '2', label: '2 Bedrooms' },
        { value: '3', label: '3 Bedrooms' },
        { value: '4', label: '4 Bedrooms' },
        { value: '5+', label: '5+ Bedrooms' }
      ],
      
      init() {
        const optionsContainer = document.getElementById('aiOptions');
        const backBtn = document.getElementById('aiBackBtn');
        const filterInput = document.getElementById('filterSearch');
        
        // Option button click handler
        optionsContainer.addEventListener('click', (e) => {
          if (!e.target.classList.contains('ai-option-btn')) return;
          const val = e.target.dataset.value;
          
          if (this.step === 0) {
            this.selectedPropertyType = val;
            this.step = 1;
            this.renderLocationStep();
          } else if (this.step === 1) {
            this.selectedLocation = val;
            this.step = 2;
            this.renderBedroomsStep();
          } else if (this.step === 2) {
            this.selectedBedrooms = val;
            this.applyFinalFilters();
          } else if (this.step === 3 && val === 'reset') {
            this.reset();
          }
        });
        
        // Back button handler
        backBtn.addEventListener('click', () => {
          if (this.step === 1) this.resetToStep(0);
          else if (this.step === 2) this.resetToStep(1);
        });
        
        // Text search filtering
        if (filterInput) {
          filterInput.addEventListener('input', applyFilters);
          filterInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') applyFilters();
          });
        }
      },
      
      resetToStep(step) {
        this.step = step;
        if (step === 0) this.renderInitialStep();
        else if (step === 1) this.renderLocationStep();
        else if (step === 2) this.renderBedroomsStep();
      },
      
      renderInitialStep() {
        document.getElementById('aiPrompt').innerHTML = 'Hi! What type of property are you looking for?';
        document.getElementById('aiOptions').innerHTML = this.propertyTypes.map(type =>
          `<button class="ai-option-btn" data-value="${type.value}">${type.label}</button>`
        ).join('');
        document.getElementById('aiBackBtn').style.display = 'none';
      },
      
      renderLocationStep() {
        const typeLabel = this.propertyTypes.find(t => t.value === this.selectedPropertyType)?.label || 'property';
        document.getElementById('aiPrompt').innerHTML = `Great! Which <strong>Dubai location</strong> would you like to find a ${typeLabel} in?`;
        document.getElementById('aiOptions').innerHTML = this.locations.map(loc =>
          `<button class="ai-option-btn" data-value="${loc.value}">${loc.label}</button>`
        ).join('');
        document.getElementById('aiBackBtn').style.display = 'flex';
      },
      
      renderBedroomsStep() {
        const typeLabel = this.propertyTypes.find(t => t.value === this.selectedPropertyType)?.label || 'property';
        document.getElementById('aiPrompt').innerHTML = `Excellent! How many <strong>bedrooms</strong> for your ${typeLabel}?`;
        document.getElementById('aiOptions').innerHTML = this.bedrooms.map(bed =>
          `<button class="ai-option-btn" data-value="${bed.value}">${bed.label}</button>`
        ).join('');
      },
      
      applyFinalFilters() {
        document.getElementById('filterSearch').value = '';
        document.getElementById('filterPropertyType').value = this.selectedPropertyType;
        document.getElementById('filterLocation').value = this.selectedLocation;
        document.getElementById('filterBedrooms').value = this.selectedBedrooms;
        applyFilters();
        
        const typeLabel = this.propertyTypes.find(t => t.value === this.selectedPropertyType)?.label || 'any property';
        const locLabel = this.locations.find(l => l.value === this.selectedLocation)?.label || 'any location';
        const bedLabel = this.bedrooms.find(b => b.value === this.selectedBedrooms)?.label || 'any bedrooms';
        
        document.getElementById('aiPrompt').innerHTML = `âœ… Showing <strong>${typeLabel}</strong> with <strong>${bedLabel}</strong> in <strong>${locLabel}</strong>.`;
        document.getElementById('aiOptions').innerHTML = `<button class="ai-option-btn" data-value="reset">Start Over</button>`;
        document.getElementById('aiBackBtn').style.display = 'none';
        this.step = 3;
      },
      
      reset() {
        this.step = 0;
        this.selectedPropertyType = '';
        this.selectedLocation = '';
        this.selectedBedrooms = '';
        document.getElementById('filterPropertyType').value = '';
        document.getElementById('filterLocation').value = '';
        document.getElementById('filterBedrooms').value = '';
        document.getElementById('filterSearch').value = '';
        applyFilters();
        this.renderInitialStep();
      }
    };
    
    function applyFilters() {
      const propertyType = document.getElementById('filterPropertyType').value;
      const location = document.getElementById('filterLocation').value;
      const bedrooms = document.getElementById('filterBedrooms').value;
      const searchTerm = (document.getElementById('filterSearch')?.value || '').toLowerCase().trim();
      
      let visibleCount = 0;
      document.querySelectorAll('.properties-grid .property-card').forEach(card => {
        const name = card.querySelector('h3')?.textContent.toLowerCase() || '';
        const desc = card.querySelector('p')?.textContent.toLowerCase() || '';
        const matchesText = !searchTerm || name.includes(searchTerm) || desc.includes(searchTerm);
        const matchesType = !propertyType || card.dataset.propertyType === propertyType;
        const matchesLoc = !location || card.dataset.location === location;
        const matchesBeds = !bedrooms || card.dataset.bedrooms === bedrooms;
        const isVisible = matchesText && matchesType && matchesLoc && matchesBeds;
        
        if (isVisible) {
          visibleCount++;
          card.style.display = 'block';
        } else {
          card.style.display = 'none';
        }
      });
      
      showNoResultsMessage(visibleCount);
    }
    
    function showNoResultsMessage(count) {
      const grid = document.getElementById('propertiesGrid');
      let noResultsMsg = document.getElementById('noResultsMessage');
      
      if (count === 0) {
        if (!noResultsMsg) {
          noResultsMsg = document.createElement('div');
          noResultsMsg.id = 'noResultsMessage';
          noResultsMsg.style.cssText = `
            grid-column: 1 / -1;
            text-align: center;
            padding: 4rem 2rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            border: 2px dashed rgba(37, 211, 102, 0.3);
          `;
          noResultsMsg.innerHTML = `
            <i class="fas fa-search" style="font-size: 3rem; color: #25d366; margin-bottom: 1rem;"></i>
            <h3 style="font-family: 'Playfair Display', serif; color: white; margin-bottom: 1rem;">No Properties Found</h3>
            <p style="color: #a0a8b8; max-width: 600px; margin: 0 auto;">
              Try adjusting your filters or search terms. We have a wide range of properties available!
            </p>
            <button onclick="resetAllFilters()" style="
              margin-top: 1.5rem;
              background: linear-gradient(45deg, #25d366, #20c960);
              color: white;
              padding: 0.8rem 2rem;
              border: none;
              border-radius: 8px;
              font-weight: 600;
              cursor: pointer;
              transition: all 0.3s ease;
            ">Reset Filters</button>
          `;
          grid.appendChild(noResultsMsg);
        }
      } else if (noResultsMsg) {
        noResultsMsg.remove();
      }
    }
    
    function resetAllFilters() {
      document.getElementById('filterPropertyType').value = '';
      document.getElementById('filterLocation').value = '';
      document.getElementById('filterBedrooms').value = '';
      document.getElementById('filterSearch').value = '';
      aiSearch.reset();
      applyFilters();
    }
    
    // ===== CHAT WIDGET =====
    function initChatWidget() {
      const widget = document.getElementById('dubai-chat-widget');
      let isExpanded = false;
      let messagesContainer = null;
      let inputField = null;
      let typingElement = null;
      
      // Knowledge Base
      const KB = {
        business: {
          name: 'Dubai One',
          phone: '+971 54 303 4025',
          email: 'info@dubai-one.ae',
          whatsapp: '971543034025'
        },
        visaInfo: `
          <strong>ðŸ›‚ Dubai Property Visa Options:</strong><br><br>
          <div class="developer-highlight">
            <strong>ðŸ’° Investor Visa (AED 2M+)</strong><br>
            10-year renewable residency with family sponsorship
          </div>
          <div class="developer-highlight">
            <strong>ðŸ  Standard Property Visa (AED 750K+)</strong><br>
            2-5 year renewable residency depending on property value
          </div>
          <div class="developer-highlight">
            <strong>ðŸŒŸ Golden Visa (AED 5M+ or Premium Properties)</strong><br>
            10-year residency with multiple entry benefits
          </div>
          <div class="developer-highlight">
            <strong>ðŸ‘¨â€ðŸ‘©â€ðŸ‘§â€ðŸ‘¦ Family Benefits:</strong> Spouse, children, and domestic help sponsorship included
          </div>
          <p style="margin-top: 12px; font-size: 0.95rem; color: #a0a8b8;">
            <i>Processing time: 4-8 weeks. All documents must be attested.</i>
          </p>
        `,
        communities: {
          family: [
            {
              name: 'Dubai Hills Estate',
              schools: ['GEMS International', 'Dubai British School', 'GEMS Wellington'],
              highlights: 'Parks, golf course, family pools, community centers, retail mall'
            },
            {
              name: 'Arabian Ranches',
              schools: ['JESS Arabian Ranches', 'Ranches Primary School', 'GEMS schools nearby'],
              highlights: 'Equestrian facilities, parks, community pools, villa communities'
            },
            {
              name: 'Jumeirah Village Circle (JVC)',
              schools: ['GEMS FirstPoint', 'Arcadia School', 'South View School'],
              highlights: 'Central park, cycling tracks, family-friendly layout, affordable'
            },
            {
              name: 'Mudon (by DAMAC)',
              schools: ['GEMS schools in Dubailand', 'International schools in JVC'],
              highlights: 'Dedicated parks, cycling paths, family pools, community events'
            }
          ],
          petFriendly: [
            {
              name: 'JBR (Jumeirah Beach Residence)',
              parks: 'The Beach park, open beachfront areas',
              notes: 'Many apartments allow pets; check building regulations'
            },
            {
              name: 'Dubai Marina',
              parks: 'Marina Walk green spaces, JBR park nearby',
              notes: 'Select towers pet-friendly (e.g., Marina Diamond, Marina Quays)'
            },
            {
              name: 'Mudon Community',
              parks: 'Dedicated dog park, multiple green spaces',
              notes: 'Specifically designed for pet owners with off-leash areas'
            },
            {
              name: 'Arabian Ranches',
              parks: 'Vast open spaces, dedicated dog walking areas',
              notes: 'Villa communities ideal for pets with private gardens'
            }
          ],
          beachfront: [
            'ðŸï¸ <strong>Palm Jumeirah</strong> - Ultra-luxury villas & apartments with private beach access',
            'ðŸ–ï¸ <strong>JBR (Jumeirah Beach Residence)</strong> - Vibrant beachfront apartments with amenities',
            'ðŸŒŠ <strong>Dubai Marina</strong> - Modern apartments with marina & sea views',
            'ðŸŒ… <strong>Bluewaters Island</strong> - Modern apartments with sea views & Ain Dubai',
            'ðŸï¸ <strong>Emaar Beachfront</strong> - Exclusive island community opposite Burj Al Arab',
            'â›µ <strong>Dubai Harbour</strong> - New marina development with beach access'
          ],
          luxury: [
            'ðŸ™ï¸ <strong>Downtown Dubai</strong> - Burj Khalifa views, luxury high-rises',
            'ðŸ’Ž <strong>Business Bay</strong> - Canal views, modern apartments',
            'ðŸŒ´ <strong>Palm Jumeirah</strong> - Iconic luxury villas & apartments',
            'ðŸŒŠ <strong>Dubai Marina</strong> - Waterfront luxury living',
            'ðŸ¡ <strong>Emirates Hills</strong> - Ultra-luxury villas, golf community',
            'ðŸ° <strong>District One</strong> - Crystal lagoon, mega mansions'
          ],
          affordable: [
            'ðŸ’° <strong>JVC (Jumeirah Village Circle)</strong> - Great value, family-friendly',
            'ðŸ† <strong>Sports City</strong> - Affordable apartments, good ROI',
            'ðŸ˜ï¸ <strong>Discovery Gardens</strong> - Budget-friendly, near airport',
            'ðŸ¢ <strong>Dubai Silicon Oasis</strong> - Tech hub, affordable villas & apartments',
            'ðŸ˜ï¸ <strong>International City</strong> - Most affordable, diverse community'
          ]
        },
        developers: {
          emaar: {
            name: 'Emaar Properties',
            description: 'Dubai\'s most prestigious developer, creator of Burj Khalifa and Downtown Dubai.',
            completed: ['Burj Khalifa', 'The Dubai Mall', 'Downtown Dubai', 'Dubai Hills Estate', 'Emaar Beachfront'],
            ongoing: ['The Oasis by Emaar', 'Emaar South', 'Dubai Creek Harbour expansion'],
            specialties: 'Luxury high-rises, master-planned communities, iconic landmarks'
          },
          nakheel: {
            name: 'Nakheel',
            description: 'Pioneer of Dubai\'s waterfront developments and artificial islands.',
            completed: ['Palm Jumeirah', 'The World Islands', 'Deira Islands', 'Jumeirah Village Circle', 'Ibn Battuta Mall'],
            ongoing: ['Deira Islands Night Souk', 'Palm Jebel Ali revival', 'Dubai Islands'],
            specialties: 'Waterfront communities, innovative island developments, family neighborhoods'
          },
          damac: {
            name: 'DAMAC Properties',
            description: 'Luxury specialist with global brand partnerships (Versace, Paramount).',
            completed: ['Aykon City', 'DAMAC Hills', 'Versace Residences', 'Paramount Towers Dubai', 'DAMAC Towers'],
            ongoing: ['DAMAC Lagoons', 'DAMAC Grove', 'Aykon City Phase 2', 'DAMAC Hills 2 expansion'],
            specialties: 'Ultra-luxury residences, branded developments, golf communities'
          },
          meraas: {
            name: 'Meraas',
            description: 'Creator of Dubai\'s most innovative lifestyle destinations.',
            completed: ['City Walk', 'La Mer', 'Bluewaters Island', 'JBR', 'The Outlet Village'],
            ongoing: ['Dubai Harbour expansion', 'Central Beach', 'Pearl Jumeirah developments'],
            specialties: 'Mixed-use destinations, beachfront communities, experiential retail'
          }
        },
        propertyTypes: `
          <strong>ðŸ¢ Property Types in Dubai:</strong><br><br>
          <div class="developer-highlight">
            <strong>ðŸ™ï¸ Apartments</strong><br>
            Studio, 1BR, 2BR, 3BR+ in high-rise towers with amenities
          </div>
          <div class="developer-highlight">
            <strong>ðŸ¡ Villas</strong><br>
            Standalone homes with private gardens, pools, and parking
          </div>
          <div class="developer-highlight">
            <strong>ðŸ˜ï¸ Townhouses</strong><br>
            Multi-level homes sharing walls, great for families
          </div>
          <div class="developer-highlight">
            <strong>ðŸ¢ Penthouses</strong><br>
            Luxury top-floor apartments with premium finishes & views
          </div>
          <div class="developer-highlight">
            <strong>ðŸ¨ Hotel Apartments</strong><br>
            Serviced apartments with hotel amenities and rental potential
          </div>
          <p style="margin-top: 12px; font-size: 0.95rem; color: #a0a8b8;">
            <i>Freehold areas allow 100% foreign ownership. Off-plan properties offer payment plans.</i>
          </p>
        `,
        investment: `
          <strong>ðŸ’° Dubai Real Estate Investment Guide:</strong><br><br>
          <div class="developer-highlight">
            <strong>ðŸ“ˆ ROI Potential:</strong> 5-8% annual rental yield on average
          </div>
          <div class="developer-highlight">
            <strong>ðŸ¦ Mortgage Options:</strong> Up to 75% financing for expats, 80% for UAE nationals
          </div>
          <div class="developer-highlight">
            <strong>ðŸ’° Down Payment:</strong> 20-25% for ready properties, 10% for off-plan
          </div>
          <div class="developer-highlight">
            <strong>ðŸ“‹ Service Charges:</strong> AED 10-25 per sq ft annually (varies by building)
          </div>
          <div class="developer-highlight">
            <strong>âš–ï¸ Registration Fees:</strong> 4% of property value + admin fees
          </div>
          <p style="margin-top: 12px; font-size: 0.95rem; color: #a0a8b8;">
            <i>Dubai has no property tax, capital gains tax, or income tax on rental income.</i>
          </p>
        `,
        areas: `
          <strong>ðŸ“ Dubai Areas by Lifestyle:</strong><br><br>
          <div class="developer-highlight">
            <strong>ðŸ™ï¸ Downtown/Core Areas</strong><br>
            Downtown Dubai, DIFC, Business Bay â€“ Luxury high-rises, city views, business hubs
          </div>
          <div class="developer-highlight">
            <strong>ðŸ–ï¸ Beachfront</strong><br>
            Palm Jumeirah, JBR, Dubai Marina â€“ Sea views, vibrant lifestyle, tourism
          </div>
          <div class="developer-highlight">
            <strong>ðŸ¡ Family Communities</strong><br>
            Dubai Hills, Arabian Ranches, JVC â€“ Villas/townhouses, parks, schools
          </div>
          <div class="developer-highlight">
            <strong>ðŸ’° Value Areas</strong><br>
            JVC, Sports City, Discovery Gardens â€“ Affordable apartments, good ROI
          </div>
          <div class="developer-highlight">
            <strong>ðŸ¢ Business Districts</strong><br>
            DIFC, Business Bay, Dubai Marina â€“ Office towers, luxury apartments
          </div>
        `
      };
      
      widget.addEventListener('click', () => {
        if (isExpanded) {
          minimizeWidget();
        } else {
          expandWidget();
        }
      });
      
      function expandWidget() {
        isExpanded = true;
        widget.className = 'expanded';
        
        widget.innerHTML = `
          <div class="chat-widget-header">
            <div class="chat-widget-avatar">D1</div>
            <div class="chat-widget-title">
              <h3>Dubai One Assistant</h3>
              <p>Your Dubai real estate expert</p>
            </div>
            <button class="chat-widget-close" id="chatCloseBtn">
              <i class="fas fa-times"></i>
            </button>
          </div>
          <div class="chat-widget-messages" id="chatMessages">
            <div class="chat-message bot">
              Hello! ðŸ‘‹ I'm your <strong>Dubai One</strong> assistant!<br><br>
              How can I help you today?
              <div class="chat-suggestions">
                <button class="chat-suggestion-btn" data-query="visa requirements"><i class="fas fa-passport"></i> Visas</button>
                <button class="chat-suggestion-btn" data-query="best areas for families"><i class="fas fa-home"></i> Areas</button>
                <button class="chat-suggestion-btn" data-query="top developers"><i class="fas fa-building"></i> Developers</button>
                <button class="chat-suggestion-btn" data-query="beachfront properties"><i class="fas fa-umbrella-beach"></i> Beachfront</button>
                <button class="chat-suggestion-btn" data-query="pet friendly apartments"><i class="fas fa-paw"></i> Pet-Friendly</button>
                <button class="chat-suggestion-btn" data-query="investment guide"><i class="fas fa-chart-line"></i> Investment</button>
              </div>
            </div>
          </div>
          <div class="chat-widget-input">
            <input type="text" id="chatInput" placeholder="Ask about Dubai real estate..." autocomplete="off">
            <button id="sendChatBtn">
              <i class="fas fa-paper-plane"></i>
            </button>
          </div>
        `;
        
        // Setup event listeners
        document.getElementById('chatCloseBtn').addEventListener('click', (e) => {
          e.stopPropagation();
          minimizeWidget();
        });
        
        document.getElementById('sendChatBtn').addEventListener('click', sendMessage);
        document.getElementById('chatInput').addEventListener('keypress', (e) => {
          if (e.key === 'Enter') sendMessage();
        });
        
        // Setup suggestion buttons
        setTimeout(() => {
          document.querySelectorAll('.chat-suggestion-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
              e.stopPropagation();
              const query = e.target.dataset.query || e.target.closest('button').dataset.query;
              addMessage(query, 'user');
              processQuery(query);
              if (inputField) inputField.value = '';
            });
          });
        }, 100);
        
        // Cache elements
        messagesContainer = document.getElementById('chatMessages');
        inputField = document.getElementById('chatInput');
        
        // Auto-focus input
        setTimeout(() => {
          if (inputField) inputField.focus();
        }, 100);
        
        // Hide badge when expanded
        const badge = widget.querySelector('.chat-badge');
        if (badge) badge.style.display = 'none';
      }
      
      function minimizeWidget() {
        isExpanded = false;
        widget.className = 'minimized';
        widget.innerHTML = `
          <i class="fas fa-comments chat-icon"></i>
          <span class="chat-badge">?</span>
        `;
        
        widget.addEventListener('click', () => {
          if (!isExpanded) expandWidget();
        });
        
        // Show badge again
        const badge = widget.querySelector('.chat-badge');
        if (badge) badge.style.display = 'flex';
      }
      
      function addMessage(text, sender) {
        if (!messagesContainer) return;
        const messageDiv = document.createElement('div');
        messageDiv.className = `chat-message ${sender}`;
        messageDiv.innerHTML = text.replace(/\n/g, '<br>');
        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }
      
      function sendMessage() {
        if (!inputField) return;
        const message = inputField.value.trim();
        if (!message) return;
        
        addMessage(message, 'user');
        inputField.value = '';
        showTypingIndicator();
        
        setTimeout(() => {
          removeTypingIndicator();
          processQuery(message.toLowerCase());
        }, 800);
      }
      
      function showTypingIndicator() {
        if (typingElement || !messagesContainer) return;
        typingElement = document.createElement('div');
        typingElement.className = 'chat-message bot';
        typingElement.innerHTML = `
          <div class="typing-indicator">
            <span class="typing-dot"></span>
            <span class="typing-dot"></span>
            <span class="typing-dot"></span>
          </div>
        `;
        messagesContainer.appendChild(typingElement);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }
      
      function removeTypingIndicator() {
        if (typingElement && messagesContainer) {
          messagesContainer.removeChild(typingElement);
          typingElement = null;
        }
      }
      
      function processQuery(query) {
        let response = '';
        
        // Visa queries
        if (query.includes('visa') || query.includes('residen') || query.includes('golden') || query.includes('investor') || query.includes('sponsorship')) {
          response = KB.visaInfo;
        }
        // Family communities with schools
        else if ((query.includes('family') || query.includes('kid') || query.includes('child') || query.includes('school')) &&
                 (query.includes('area') || query.includes('community') || query.includes('neighborhood') || query.includes('best for'))) {
          response = handleFamilyCommunities();
        }
        // Pet-friendly properties
        else if (query.includes('pet') || query.includes('dog') || query.includes('cat') || query.includes('animal')) {
          response = handlePetFriendly();
        }
        // Beachfront properties
        else if (query.includes('beach') || query.includes('sea view') || query.includes('waterfront') || query.includes('marina') || query.includes('coast')) {
          response = handleBeachfront();
        }
        // Developer queries
        else if (query.includes('developer') || /emaar|nakheel|damac|meraas/.test(query)) {
          response = handleDeveloperQuery(query);
        }
        // Property types
        else if (query.includes('property type') || query.includes('apartment') || query.includes('villa') || query.includes('townhouse') || query.includes('penthouse')) {
          response = KB.propertyTypes;
        }
        // Investment queries
        else if (query.includes('invest') || query.includes('roi') || query.includes('yield') || query.includes('mortgage') || query.includes('financ') || query.includes('payment plan')) {
          response = KB.investment;
        }
        // Areas/Communities general
        else if (query.includes('area') || query.includes('community') || query.includes('neighborhood') || query.includes('where to live') || query.includes('best place')) {
          response = handleAreasQuery(query);
        }
        // Luxury properties
        else if (query.includes('luxury') || query.includes('premium') || query.includes('high end') || query.includes('expensive')) {
          response = handleLuxuryAreas();
        }
        // Affordable properties
        else if (query.includes('afford') || query.includes('budget') || query.includes('cheap') || query.includes('value') || query.includes('cheapest')) {
          response = handleAffordableAreas();
        }
        // Contact info
        else if (query.includes('contact') || query.includes('phone') || query.includes('email') || query.includes('reach') || query.includes('call')) {
          response = `
            <strong>ðŸ“ž Contact Dubai One:</strong><br><br>
            <div class="developer-highlight">
              <strong>ðŸ“± WhatsApp:</strong> <a href="https://wa.me/${KB.business.whatsapp}" style="color: #25d366; text-decoration: none;">+${KB.business.phone}</a>
            </div>
            <div class="developer-highlight">
              <strong>ðŸ“§ Email:</strong> ${KB.business.email}
            </div>
            <div class="developer-highlight">
              <strong>ðŸ¢ Office:</strong> Dubai, UAE
            </div>
            <p style="margin-top: 12px;">We're available 24/7 to assist with your real estate needs!</p>
          `;
        }
        // Greetings
        else if (/^(hi|hello|hey|good morning|good afternoon|good evening)/.test(query)) {
          response = `Hello! ðŸ‘‹ Welcome to <strong>Dubai One</strong>!<br><br>
            I'm your real estate assistant. I can help you with:<br>
            â€¢ Visa & Residency requirements<br>
            â€¢ Best areas for families, pets, or beach lovers<br>
            â€¢ Top developers & their projects<br>
            â€¢ Investment opportunities & ROI<br>
            â€¢ Property types & pricing<br><br>
            What would you like to know?`;
        }
        // Thank you/Goodbye
        else if (query.includes('thank') || query.includes('bye') || query.includes('goodbye') || query.includes('thanks')) {
          response = `You're welcome! ðŸ˜Š Whenever you need help with Dubai real estate, Dubai One is here for you.`;
        }
        // Default response
        else {
          response = `I specialize in Dubai real estate! ðŸ˜Š Try asking:<br><br>
            â€¢ "What are the visa requirements for property buyers?"<br>
            â€¢ "Which areas are best for families with schools?"<br>
            â€¢ "Where can I find pet-friendly apartments?"<br>
            â€¢ "What are the best beachfront communities?"<br>
            â€¢ "Tell me about top developers like Emaar"<br>
            â€¢ "Dubai real estate investment guide"<br><br>
            Or tap below to chat with our human experts!`;
        }
        
        // Add WhatsApp handoff if not already present
        if (!response.includes('whatsapp-handoff') && !response.includes('Contact Dubai One')) {
          response += getWhatsAppHandoff(`Chat about: ${query}`);
        }
        
        addMessage(response, 'bot');
      }
      
      function handleDeveloperQuery(query) {
        if (query.includes('emaar')) return formatDeveloper(KB.developers.emaar);
        if (query.includes('nakheel') || query.includes('palm')) return formatDeveloper(KB.developers.nakheel);
        if (query.includes('damac') || query.includes('versace') || query.includes('paramount')) return formatDeveloper(KB.developers.damac);
        if (query.includes('meraas') || query.includes('jbr') || query.includes('city walk') || query.includes('bluewaters')) return formatDeveloper(KB.developers.meraas);
        
        return `
          <strong>ðŸ¢ Dubai's Top 4 Developers:</strong><br><br>
          <div class="developer-highlight">
            <strong>Emaar Properties</strong><br>
            ðŸ—ï¸ Burj Khalifa creator â€¢ Downtown Dubai â€¢ Dubai Hills Estate
          </div>
          <div class="developer-highlight">
            <strong>Nakheel</strong><br>
            ðŸï¸ Palm Jumeirah â€¢ The World Islands â€¢ Deira Islands
          </div>
          <div class="developer-highlight">
            <strong>DAMAC Properties</strong><br>
            âœ¨ Versace Residences â€¢ DAMAC Hills â€¢ Luxury branded homes
          </div>
          <div class="developer-highlight">
            <strong>Meraas</strong><br>
            ðŸ–ï¸ JBR â€¢ City Walk â€¢ Bluewaters Island â€¢ La Mer
          </div>
          <p style="margin-top: 12px;">Which developer would you like to know more about?</p>
        `;
      }
      
      function formatDeveloper(dev) {
        return `
          <strong>${dev.name}</strong><br>
          ${dev.description}<br><br>
          <strong>âœ“ Completed Projects:</strong>
          <ul class="project-list">
            ${dev.completed.map(p => `<li>${p}</li>`).join('')}
          </ul>
          <strong>ðŸ—ï¸ Current Projects:</strong>
          <ul class="project-list">
            ${dev.ongoing.map(p => `<li>${p}</li>`).join('')}
          </ul>
          <strong>ðŸŽ¯ Specialties:</strong> ${dev.specialties}
        `;
      }
      
      function handleFamilyCommunities() {
        return `
          <strong>ðŸ† Best Family Communities with Top Schools:</strong><br><br>
          ${KB.communities.family.map(comm => `
            <div class="developer-highlight">
              <strong>${comm.name}</strong><br>
              <strong>ðŸ« Schools:</strong> ${comm.schools.join(', ')}<br>
              <strong>ðŸŽ¯ Family Perks:</strong> ${comm.highlights}
            </div>
          `).join('')}
          <p style="margin-top: 12px; font-size: 0.95rem; color: #a0a8b8;">
            <i>All communities feature parks, pools, and family-oriented amenities. School admission is separate from property purchase.</i>
          </p>
        `;
      }
      
      function handlePetFriendly() {
        return `
          <strong>ðŸ¾ Best Pet-Friendly Communities in Dubai:</strong><br><br>
          ${KB.communities.petFriendly.map(comm => `
            <div class="developer-highlight">
              <strong>${comm.name}</strong><br>
              <strong>ðŸŒ³ Parks:</strong> ${comm.parks}<br>
              <strong>ðŸ“ Notes:</strong> ${comm.notes}
            </div>
          `).join('')}
          <p style="margin-top: 12px; font-weight: 600; color: #ff6b6b; font-size: 0.95rem;">
            âš ï¸ Always verify pet policies with building management before purchasing/renting.
          </p>
        `;
      }
      
      function handleBeachfront() {
        return `
          <strong>ðŸŒ… Premium Beachfront Communities:</strong><br><br>
          <ul class="project-list" style="margin-left: 10px; margin-bottom: 15px;">
            ${KB.communities.beachfront.map(item => `<li>${item}</li>`).join('')}
          </ul>
          <div class="developer-highlight" style="margin-top: 10px;">
            <strong>ðŸ’¡ Pro Tip:</strong> Palm Jumeirah & Emaar Beachfront offer the most exclusive beach access, while JBR provides the best value with vibrant amenities.
          </div>
        `;
      }
      
      function handleLuxuryAreas() {
        return `
          <strong>ðŸ’Ž Dubai's Most Luxurious Areas:</strong><br><br>
          <ul class="project-list" style="margin-left: 10px; margin-bottom: 15px;">
            ${KB.communities.luxury.map(item => `<li>${item}</li>`).join('')}
          </ul>
          <div class="developer-highlight" style="margin-top: 10px;">
            <strong>ðŸ’° Price Range:</strong> AED 1.5M - 100M+ depending on property type and location
          </div>
        `;
      }
      
      function handleAffordableAreas() {
        return `
          <strong>ðŸ’° Best Value Areas in Dubai:</strong><br><br>
          <ul class="project-list" style="margin-left: 10px; margin-bottom: 15px;">
            ${KB.communities.affordable.map(item => `<li>${item}</li>`).join('')}
          </ul>
          <div class="developer-highlight" style="margin-top: 10px;">
            <strong>ðŸŽ¯ Best For:</strong> First-time buyers, investors seeking high ROI, budget-conscious families
          </div>
        `;
      }
      
      function handleAreasQuery(query) {
        return KB.areas + `
          <p style="margin-top: 15px; font-weight: 600;">
            Which lifestyle are you looking for? I can give specific recommendations!
          </p>
        `;
      }
      
      function getWhatsAppHandoff(message) {
        return `
          <div class="whatsapp-handoff" onclick="window.open('https://wa.me/${KB.business.whatsapp}?text=${encodeURIComponent(message + ' - via Dubai One AI Assistant')}', '_blank')">
            <i class="fab fa-whatsapp"></i>
            <span>Chat with human expert on WhatsApp</span>
          </div>
        `;
      }
      
      // Initialize badge animation
      const badge = widget.querySelector('.chat-badge');
      if (badge) {
        setInterval(() => {
          if (!isExpanded && badge) {
            badge.textContent = badge.textContent === '?' ? '!' : '?';
          }
        }, 2000);
      }
    }
    
    // Newsletter form
    document.getElementById('newsletterForm')?.addEventListener('submit', function(e) {
      e.preventDefault();
      const email = this.querySelector('input[type="email"]').value;
      alert(`Thank you for subscribing with ${email}! You'll receive our next newsletter soon.`);
      this.reset();
    });
  </script>
</body>
</html>